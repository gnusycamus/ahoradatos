package ar.com.datos.tests;

import ar.com.datos.grupo5.compresion.lz78.CompresorLZ78;
import ar.com.datos.grupo5.excepciones.SessionException;
import ar.com.datos.grupo5.interfaces.Compresor;

public class TestLZ78bis {

	
	public static void main (String[] args){
		
		Compresor comp = new CompresorLZ78();
		//inicio sesion
		comp.iniciarSesion();
		
		String cadena = "Hola diccionario complejo\n";
		String cadena2 = "esto es una mierda no funciona";
		
		
	String bits1="000000110000000001001000000000000110111100000000011011000000000001100001000000000010000000000000011001010000000001110011000000000111010000000001000001000000000100000110000000000010000000000000011101010000000001101110000000010000010000000000011100000000000001110010000000000111010100000000011001010000000001100010000000010000010000000000011001000000000001100101000000010000101100000000";
	String bits2="011011100000000000100000000000000110000100000000011100100000000001100011000000000110100000000000011010010000000001110110000000000110111100000000001000000000000001100011000000000110111100000000011011010000000100001111000000000110100100000000011011010000000001101001000000000110010000000000";
	String bits3="011011110000000000101110000000000000101000000001000000010000000100000011000000010000010100000000011100110000000100010111000000010000010000000000011000110000000001100001000000010010100100000000011100100000000100001101000000000010111000000000001000000000000001001100000000010011001000000001";
	String bits4="001101000000000001101111000000010011011000000001000010010000000100110000000000000111000100000001000100010000000000100000000000000110111000000001001000000000000001101100000000010010000000000000011100000000000001101111000000000110010000000000011000010000000001101101000000000110111100000001";
	String bits5="0011000000000001000011110000000001101111000000010001001100000000011100100000000000101110000000000000101000000000";
		
		try {
			
//			//comprimo la cadena 1 y despues la 2
//			String binario = comp.comprimir(cadena);
//			binario += comp.comprimir(cadena2);
//			
//			binario += comp.finalizarSession();
////			System.out.println("quedo "+binario);
////			System.out.println("quedo de long "+binario.length());
////			System.out.println(binario);

			
			//genero un string buffer
			StringBuffer sb = new StringBuffer (bits1);
			
			//para simular el funcionamiento real le agrego solo algunos bytes
			String descomprimido = comp.descomprimir(sb);
			
			sb = new StringBuffer(bits2);
			descomprimido += comp.descomprimir(sb);
			
			sb = new StringBuffer(bits3);
			descomprimido += comp.descomprimir(sb);
			
			sb = new StringBuffer(bits4);
			descomprimido += comp.descomprimir(sb);
			
			sb = new StringBuffer(bits5);
			descomprimido += comp.descomprimir(sb);
			
			System.out.println(descomprimido);
			
			
			
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
		
		
	}
	
	
}
